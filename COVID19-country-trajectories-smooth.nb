(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     24163,        544]
NotebookOptionsPosition[     22638,        516]
NotebookOutlinePosition[     23042,        532]
CellTagsIndexPosition[     22999,        529]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.8492172038182044`*^9, 3.849217210058697*^9}},
 CellLabel->"In[35]:=",ExpressionUUID->"b933c212-2440-40b7-ab88-ac259144b78e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"cases", "=", 
   RowBox[{
   "Import", "[", 
    "\"\<https://github.com/CSSEGISandData/COVID-19/raw/master/csse_covid_19_\
data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv\>\"", 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"deaths", "=", 
   RowBox[{
   "Import", "[", 
    "\"\<https://github.com/CSSEGISandData/COVID-19/raw/master/csse_covid_19_\
data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv\>\"", 
    "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.849210893245969*^9, 3.8492109278636847`*^9}},
 CellLabel->"In[36]:=",ExpressionUUID->"d1d3ccf7-222f-4f30-b2f1-c048d2c46202"],

Cell[BoxData[
 RowBox[{
  RowBox[{"dates", "=", 
   RowBox[{"cases", "[", 
    RowBox[{"[", 
     RowBox[{"1", ",", 
      RowBox[{"5", ";;"}]}], "]"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.8492110186725874`*^9, 3.8492110251919765`*^9}},
 CellLabel->"In[38]:=",ExpressionUUID->"23f2eb52-a337-4150-ab43-baa214cc0bb7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"countries", "=", 
   RowBox[{
    RowBox[{"cases", "[", 
     RowBox[{"[", 
      RowBox[{
       RowBox[{"2", ";;"}], ",", "2"}], "]"}], "]"}], "//", "Union"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.8492110523363085`*^9, 3.8492110611462493`*^9}, {
  3.849212725840498*^9, 3.849212726706168*^9}, {3.8492128333511105`*^9, 
  3.8492128553428226`*^9}},
 CellLabel->"In[39]:=",ExpressionUUID->"0f3919e5-dd64-4eb6-b043-e7dcb94e4cd5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"th", "=", "20000000"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"countries2", "=", 
   RowBox[{"{", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pop", "=", 
   RowBox[{"<|", "|>"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Do", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"p", "=", 
      RowBox[{"QuantityMagnitude", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Interpreter", "[", "\"\<Country\>\"", "]"}], "[", "c", 
         "]"}], "[", "\"\<Population\>\"", "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"NumberQ", "[", "p", "]"}], "&&", 
        RowBox[{"(", 
         RowBox[{"p", ">=", "th"}], ")"}]}], ",", 
       RowBox[{
        RowBox[{"AppendTo", "[", 
         RowBox[{"countries2", ",", "c"}], "]"}], ";", 
        RowBox[{
         RowBox[{"pop", "[", "c", "]"}], "=", "p"}]}]}], "]"}]}], 
    "\[IndentingNewLine]", ",", 
    RowBox[{"{", 
     RowBox[{"c", ",", "countries"}], "}"}]}], "\[IndentingNewLine]", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"countries", "=", "countries2"}], ";"}]}], "Input",
 CellChangeTimes->{{3.8493514577634034`*^9, 3.849351703886561*^9}, {
   3.8493534167153654`*^9, 3.849353417434525*^9}, {3.849429994087494*^9, 
   3.849429994324214*^9}, 3.849446960174282*^9},
 CellLabel->"In[40]:=",ExpressionUUID->"d588e38c-20b2-48e4-aa0a-8086cb63ba4d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"bsf", "=", 
   RowBox[{"<|", "|>"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Do", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"x", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"MovingAverage", "[", 
         RowBox[{
          RowBox[{"Differences", "[", 
           RowBox[{"Prepend", "[", 
            RowBox[{
             RowBox[{"Total", "[", 
              RowBox[{
               RowBox[{"Select", "[", 
                RowBox[{"cases", ",", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"#", "[", 
                    RowBox[{"[", "2", "]"}], "]"}], "==", "c"}], "&"}]}], 
                "]"}], "[", 
               RowBox[{"[", 
                RowBox[{";;", ",", 
                 RowBox[{"5", ";;"}]}], "]"}], "]"}], "]"}], ",", "0"}], 
            "]"}], "]"}], ",", "7"}], "]"}], "/", 
        RowBox[{"pop", "[", "c", "]"}]}], "*", "100000"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"y", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"MovingAverage", "[", 
         RowBox[{
          RowBox[{"Differences", "[", 
           RowBox[{"Prepend", "[", 
            RowBox[{
             RowBox[{"Total", "[", 
              RowBox[{
               RowBox[{"Select", "[", 
                RowBox[{"deaths", ",", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"#", "[", 
                    RowBox[{"[", "2", "]"}], "]"}], "==", "c"}], "&"}]}], 
                "]"}], "[", 
               RowBox[{"[", 
                RowBox[{";;", ",", 
                 RowBox[{"5", ";;"}]}], "]"}], "]"}], "]"}], ",", "0"}], 
            "]"}], "]"}], ",", "7"}], "]"}], "/", 
        RowBox[{"pop", "[", "c", "]"}]}], "*", "100000"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"bsf", "[", "c", "]"}], "=", 
      RowBox[{"BSplineFunction", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"x", ",", "y"}], "}"}], "//", "Transpose"}], "]"}]}], ";"}], 
    "\[IndentingNewLine]", ",", 
    RowBox[{"{", 
     RowBox[{"c", ",", "countries"}], "}"}]}], "\[IndentingNewLine]", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"nn", "=", 
   RowBox[{
    RowBox[{"Length", "[", "x", "]"}], "-", "1"}]}], ";"}]}], "Input",
 CellChangeTimes->{
  3.84935307671572*^9, {3.849353123352524*^9, 3.849353129357436*^9}, {
   3.849353164823638*^9, 3.8493532231512966`*^9}, {3.8493532555404186`*^9, 
   3.849353258653953*^9}},
 CellLabel->"In[45]:=",ExpressionUUID->"5c01ba66-d99e-472c-b5b0-d6eea834daa8"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"plotCountry", "[", 
    RowBox[{"c_", ",", "t0_", ",", "t1_"}], "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", "color", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"color", "=", 
       RowBox[{"Darker", "[", 
        RowBox[{"Hue", "[", 
         RowBox[{
          RowBox[{"Mod", "[", 
           RowBox[{
            RowBox[{"Hash", "[", "c", "]"}], ",", "100000"}], "]"}], "/", 
          "100000."}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"bsf", "[", "c", "]"}], "[", "t1", "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}], ">=", "0.2"}], "&&", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"bsf", "[", "c", "]"}], "[", "t1", "]"}], "[", 
           RowBox[{"[", "2", "]"}], "]"}], ">=", "0.01"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"Show", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"ListLogLogPlot", "[", 
           RowBox[{
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"bsf", "[", "c", "]"}], "[", "tt", "]"}], ",", 
              RowBox[{"{", 
               RowBox[{"tt", ",", "t0", ",", "t1", ",", 
                RowBox[{"1", "/", "10000."}]}], "}"}]}], "]"}], ",", 
            RowBox[{"Joined", "->", "True"}], ",", 
            RowBox[{"Frame", "->", "True"}], ",", 
            RowBox[{"Axes", "->", "False"}], ",", 
            RowBox[{"AspectRatio", "->", "1"}], ",", 
            RowBox[{"PlotStyle", "->", 
             RowBox[{"Directive", "[", 
              RowBox[{"color", ",", 
               RowBox[{"Opacity", "[", "0.3", "]"}]}], "]"}]}], ",", 
            RowBox[{"FrameLabel", "->", 
             RowBox[{"{", 
              RowBox[{
              "\"\<# of cases per 100k\>\"", ",", 
               "\"\<# of deaths per 100k\>\""}], "}"}]}], ",", 
            RowBox[{"LabelStyle", "->", "Medium"}]}], "]"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"ListLogLogPlot", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"bsf", "[", "c", "]"}], "[", "t1", "]"}], "}"}], ",", 
            RowBox[{"PlotMarkers", "->", 
             RowBox[{"Style", "[", 
              RowBox[{
               RowBox[{"\"\< \\n\[FilledCircle]\\n\>\"", "<>", "c"}], ",", 
               "color"}], "]"}]}]}], "]"}]}], "\[IndentingNewLine]", "]"}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"ListLogLogPlot", "[", 
         RowBox[{
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"bsf", "[", "c", "]"}], "[", "tt", "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"tt", ",", "t0", ",", "t1", ",", 
              RowBox[{"1", "/", "10000."}]}], "}"}]}], "]"}], ",", 
          RowBox[{"Joined", "->", "True"}], ",", 
          RowBox[{"Frame", "->", "True"}], ",", 
          RowBox[{"Axes", "->", "False"}], ",", 
          RowBox[{"AspectRatio", "->", "1"}], ",", 
          RowBox[{"PlotStyle", "->", 
           RowBox[{"Directive", "[", 
            RowBox[{"color", ",", 
             RowBox[{"Opacity", "[", "0.3", "]"}]}], "]"}]}], ",", 
          RowBox[{"FrameLabel", "->", 
           RowBox[{"{", 
            RowBox[{
            "\"\<# of cases per 100k\>\"", ",", 
             "\"\<# of deaths per 100k\>\""}], "}"}]}], ",", 
          RowBox[{"LabelStyle", "->", "Medium"}]}], "]"}]}], 
       "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.8492110806605425`*^9, 3.849211143118048*^9}, {
   3.8492112653092813`*^9, 3.8492114321621923`*^9}, {3.849211551645123*^9, 
   3.8492116010954456`*^9}, {3.8492117699843254`*^9, 
   3.8492118017239046`*^9}, {3.8492118571399226`*^9, 
   3.8492118777084093`*^9}, {3.8492120031600447`*^9, 3.849212031342155*^9}, {
   3.8492121830175676`*^9, 3.8492122084927387`*^9}, {3.8492124540571775`*^9, 
   3.8492125129681025`*^9}, {3.8492125541792955`*^9, 
   3.8492125550206327`*^9}, {3.849212731767793*^9, 3.8492127416035566`*^9}, {
   3.8492127861657524`*^9, 3.849212798898949*^9}, {3.8492130112936497`*^9, 
   3.849213039011139*^9}, {3.849213104665634*^9, 3.849213116321228*^9}, {
   3.849213262670768*^9, 3.849213271565094*^9}, {3.849213697591524*^9, 
   3.8492137289759865`*^9}, {3.8492138370668335`*^9, 
   3.8492138462093496`*^9}, {3.8492140041247215`*^9, 
   3.8492140407975774`*^9}, {3.849214098406596*^9, 3.849214100736066*^9}, {
   3.8492145819854555`*^9, 3.8492145840265627`*^9}, {3.8492146292347183`*^9, 
   3.849214676635129*^9}, {3.8492147576588974`*^9, 3.849214830619446*^9}, {
   3.8492151697928915`*^9, 3.8492151948013477`*^9}, {3.8492153661009073`*^9, 
   3.849215389897028*^9}, {3.8492161853757534`*^9, 3.849216237681305*^9}, {
   3.8492163107323613`*^9, 3.8492163113440247`*^9}, 3.8492163516667175`*^9, {
   3.8492984552311597`*^9, 3.849298470863984*^9}, {3.849298660608081*^9, 
   3.8492986986184263`*^9}, {3.8493483102447343`*^9, 
   3.8493483691407795`*^9}, {3.8493484254333076`*^9, 
   3.8493484890659018`*^9}, {3.849348539483313*^9, 3.8493485551203346`*^9}, {
   3.8493485951657963`*^9, 3.849348732096095*^9}, {3.849348763653739*^9, 
   3.849348796688963*^9}, {3.849348826884107*^9, 3.8493488307603917`*^9}, {
   3.8493489148972406`*^9, 3.849348933858527*^9}, {3.8493489680471463`*^9, 
   3.8493492657381134`*^9}, {3.8493493832596397`*^9, 
   3.8493494409376264`*^9}, {3.849349646908024*^9, 3.84934980268396*^9}, {
   3.849349851530955*^9, 3.849349926917401*^9}, {3.8493514655702558`*^9, 
   3.8493514660726967`*^9}, {3.849351737815584*^9, 3.84935176202181*^9}, {
   3.849353072348132*^9, 3.849353090442175*^9}, {3.8493531339812946`*^9, 
   3.849353152174109*^9}, {3.84935333430783*^9, 3.8493533413354406`*^9}, {
   3.8495108485682316`*^9, 3.8495108564201427`*^9}, {3.849510894028123*^9, 
   3.849510912380288*^9}, 3.8495118113532066`*^9, {3.8495453704946814`*^9, 
   3.849545399813122*^9}, {3.849545442688055*^9, 3.8495454809589014`*^9}, {
   3.8495549685620856`*^9, 3.849554973358465*^9}, {3.8495550299925284`*^9, 
   3.8495551280742846`*^9}, {3.8495551751825275`*^9, 
   3.8495552760923877`*^9}, {3.8495553161177998`*^9, 
   3.8495553301445208`*^9}, {3.8495553867248034`*^9, 
   3.8495553880173855`*^9}, {3.849555792399889*^9, 3.8495558042064457`*^9}, {
   3.8495558620529327`*^9, 3.849555870757326*^9}, {3.8506332512159166`*^9, 
   3.850633256735938*^9}},
 CellLabel->"In[48]:=",ExpressionUUID->"3978cef5-973c-4fb9-85f3-cc312044302f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"T", "=", "200"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"TT", "=", "50"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Monitor", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"frames", "=", 
      RowBox[{"Table", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"Show", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"plotCountry", "[", 
              RowBox[{"c", ",", 
               RowBox[{"1", "-", 
                RowBox[{
                 RowBox[{"Min", "[", 
                  RowBox[{"T", ",", 
                   RowBox[{"T", "-", "t", "+", "TT"}]}], "]"}], "/", "nn"}]}],
                ",", 
               RowBox[{"1", "-", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{"T", "-", "t"}], ")"}], "/", "nn"}]}]}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"c", ",", "countries"}], "}"}]}], "]"}], 
           "\[IndentingNewLine]", ",", 
           RowBox[{"PlotRange", "->", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"Log", "[", "0.2", "]"}], ",", 
                RowBox[{"Log", "[", "300", "]"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"Log", "[", "0.01", "]"}], ",", 
                RowBox[{"Log", "[", "3", "]"}]}], "}"}]}], "}"}]}], ",", 
           RowBox[{"ImageSize", "->", "600"}], "\[IndentingNewLine]", ",", 
           RowBox[{"Epilog", "->", 
            RowBox[{"Inset", "[", 
             RowBox[{
              RowBox[{"Style", "[", 
               RowBox[{
                RowBox[{"Text", "[", 
                 RowBox[{"dates", "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{"-", "T"}], "+", 
                    RowBox[{"Floor", "[", "t", "]"}]}], "]"}], "]"}], "]"}], 
                ",", "Large"}], "]"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"Log", "[", "0.5", "]"}], ",", 
                RowBox[{"Log", "[", "1.5", "]"}]}], "}"}]}], "]"}]}]}], 
          "\[IndentingNewLine]", "]"}], "//", "Rasterize"}], 
        "\[IndentingNewLine]", ",", 
        RowBox[{"{", 
         RowBox[{"t", ",", "0", ",", 
          RowBox[{"T", "-", "1"}], ",", 
          RowBox[{"1", "/", "5."}]}], "}"}]}], "\[IndentingNewLine]", "]"}]}],
      ";"}], "\[IndentingNewLine]", ",", 
    RowBox[{"{", 
     RowBox[{"t", ",", "c"}], "}"}]}], "\[IndentingNewLine]", "]"}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.849211297473716*^9, 3.8492113008759565`*^9}, {
   3.849211620495165*^9, 3.849211640417797*^9}, {3.8492118045057154`*^9, 
   3.8492118071650324`*^9}, {3.849212035075178*^9, 3.84921203888019*^9}, {
   3.8492120807225275`*^9, 3.8492120821141853`*^9}, {3.849212286411317*^9, 
   3.8492122868130608`*^9}, {3.8492123294995747`*^9, 
   3.8492123300498133`*^9}, {3.8492123809183965`*^9, 
   3.8492123825758886`*^9}, {3.8492124179662056`*^9, 3.8492124186224422`*^9}, 
   3.8492132197915783`*^9, {3.8492132986563635`*^9, 3.8492133076875744`*^9}, {
   3.849213396839958*^9, 3.8492133970104027`*^9}, {3.849213517235089*^9, 
   3.8492135182877827`*^9}, {3.849213962453916*^9, 3.8492139673965893`*^9}, {
   3.8492147437022157`*^9, 3.849214744066516*^9}, {3.849214956332287*^9, 
   3.84921495816455*^9}, {3.849214992605851*^9, 3.8492150491289854`*^9}, {
   3.849215117980646*^9, 3.8492151197963133`*^9}, 3.8492152278216457`*^9, {
   3.849215344622452*^9, 3.849215358903239*^9}, {3.849215418712282*^9, 
   3.849215460092046*^9}, {3.849215512148506*^9, 3.8492155468245926`*^9}, {
   3.8492159558664293`*^9, 3.849216020886512*^9}, {3.849216086979766*^9, 
   3.849216137015066*^9}, {3.8492162421824265`*^9, 3.849216268009037*^9}, {
   3.849216355784317*^9, 3.849216408677328*^9}, {3.8492164416065235`*^9, 
   3.8492165757030754`*^9}, {3.849217340740327*^9, 3.8492173425684843`*^9}, {
   3.8492984005427046`*^9, 3.849298404934579*^9}, {3.84934947824944*^9, 
   3.84934950013992*^9}, {3.8493495447671385`*^9, 3.849349545540376*^9}, {
   3.8493496105111313`*^9, 3.849349611083851*^9}, {3.8493500007852993`*^9, 
   3.849350001351218*^9}, {3.84935134288202*^9, 3.849351352113765*^9}, {
   3.8493514197710996`*^9, 3.849351429322624*^9}, {3.8493514724514475`*^9, 
   3.849351472784444*^9}, {3.8493517783104095`*^9, 3.849351778744052*^9}, {
   3.8493534811992655`*^9, 3.849353481631481*^9}, 3.8494299994073105`*^9, {
   3.849441358145728*^9, 3.84944141869427*^9}, {3.849446788352705*^9, 
   3.849446789116685*^9}, {3.8494468615047293`*^9, 3.8494468622757244`*^9}, {
   3.8494481535536337`*^9, 3.8494481565604415`*^9}, 3.849448287620945*^9, {
   3.849511052591625*^9, 3.8495110837255077`*^9}, 3.849511235250391*^9, {
   3.849511594844758*^9, 3.849511615939618*^9}, 3.849511695448175*^9, {
   3.8495117510448265`*^9, 3.849511752626115*^9}, {3.8495139546357746`*^9, 
   3.849513954948249*^9}, {3.849514096901837*^9, 3.8495141177321463`*^9}, {
   3.8495454885037284`*^9, 3.8495455113154984`*^9}, 3.84995396960028*^9, {
   3.849954072641431*^9, 3.8499540769412756`*^9}, {3.850632782311164*^9, 
   3.8506327846419945`*^9}, {3.850633020969927*^9, 3.8506330307728834`*^9}, {
   3.850633108192069*^9, 3.8506331105272284`*^9}, {3.8506331816702857`*^9, 
   3.8506331963523417`*^9}, {3.850633245330662*^9, 3.850633245972946*^9}, {
   3.850633345018957*^9, 3.850633360297523*^9}},
 CellLabel->"In[49]:=",ExpressionUUID->"03c05f17-28d8-485f-be3d-8d78235d10a1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"fr", "=", 
   RowBox[{"Round", "[", 
    RowBox[{"T", "*", 
     RowBox[{"5.", "/", "30"}]}], "]"}]}], ";", 
  RowBox[{"(*", " ", 
   RowBox[{"frame", " ", "rate"}], " ", "*)"}]}]], "Input",
 CellChangeTimes->{{3.849513613154805*^9, 3.8495136229958096`*^9}, {
   3.849513964844649*^9, 3.849513965673341*^9}, {3.849514142360524*^9, 
   3.849514142798374*^9}, {3.8495154201430235`*^9, 3.8495154261243258`*^9}, {
   3.849553892332131*^9, 3.849553908152367*^9}, {3.8495925058701935`*^9, 
   3.849592513359593*^9}, 3.8499539738523035`*^9, 3.8499540191848416`*^9, {
   3.8505948079258595`*^9, 3.8505948080274267`*^9}, {3.850632806003248*^9, 
   3.850632831568446*^9}, 3.8506330421548524`*^9, {3.8506331157615166`*^9, 
   3.8506331161165676`*^9}},
 CellLabel->"In[52]:=",ExpressionUUID->"c3743702-9bf7-477e-8fa5-07f554ca8074"],

Cell[BoxData[
 RowBox[{
  RowBox[{"frames", "=", 
   RowBox[{"Join", "[", 
    RowBox[{
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"frames", "[", 
        RowBox[{"[", "1", "]"}], "]"}], ",", 
       RowBox[{"1", "fr"}]}], "]"}], ",", "frames"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.8493568143033957`*^9, 3.8493568309528403`*^9}, {
   3.849430399471283*^9, 3.8494304097937827`*^9}, {3.849513627825247*^9, 
   3.8495136289255075`*^9}, {3.849513723288886*^9, 3.849513723491637*^9}, {
   3.8495171090721483`*^9, 3.849517113024341*^9}, {3.8495489804471645`*^9, 
   3.849548983562832*^9}, 3.8499539866299067`*^9, 3.849954031494919*^9, {
   3.8506330608937826`*^9, 3.8506330821633606`*^9}},
 CellLabel->"In[53]:=",ExpressionUUID->"56f10294-a19e-4771-a099-61dda4c60ad3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"frames", "=", 
   RowBox[{"Join", "[", 
    RowBox[{"frames", ",", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"frames", "[", 
        RowBox[{"[", 
         RowBox[{"-", "1"}], "]"}], "]"}], ",", 
       RowBox[{"3", "fr"}]}], "]"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.8492171133751*^9, 3.849217247687443*^9}, 
   3.8492983015946655`*^9, {3.849298418186158*^9, 3.8492984280881023`*^9}, {
   3.849299126604274*^9, 3.8492991289949784`*^9}, {3.8492991657592382`*^9, 
   3.8492991845001636`*^9}, {3.8493495604219437`*^9, 3.84934957592271*^9}, {
   3.8493568513535285`*^9, 3.849356851755453*^9}, {3.849430395530842*^9, 
   3.84943039625237*^9}, {3.8495136347541714`*^9, 3.849513635318426*^9}, 
   3.8499539924115195`*^9, 3.8499540344782324`*^9},
 CellLabel->"In[54]:=",ExpressionUUID->"da400d3a-207d-4a90-b0ce-dfb802ee18f9"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Export", "[", 
  RowBox[{
   RowBox[{"\"\<COVID19-country-trajectories-smooth-\>\"", "<>", 
    RowBox[{"DateString", "[", "\"\<ISODate\>\"", "]"}], "<>", 
    "\"\<.mp4\>\""}], ",", "frames", ",", 
   RowBox[{"FrameRate", "->", "fr"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.8492171133751*^9, 3.849217247687443*^9}, 
   3.8492983015946655`*^9, {3.849298418186158*^9, 3.8492984280881023`*^9}, {
   3.849299126604274*^9, 3.8492991289949784`*^9}, {3.8492991657592382`*^9, 
   3.84929921461961*^9}, {3.8493482869455385`*^9, 3.849348287976822*^9}, {
   3.849349528413454*^9, 3.8493495302218685`*^9}, {3.8493563680998077`*^9, 
   3.849356368222467*^9}, {3.849357098956811*^9, 3.8493570991612644`*^9}, {
   3.849430002800941*^9, 3.849430002907436*^9}, {3.8495136092439394`*^9, 
   3.849513609384877*^9}, {3.850594811930131*^9, 3.850594813755335*^9}},
 CellLabel->"In[55]:=",ExpressionUUID->"d73da3ff-d775-44c9-b2f2-980bc50b3e72"],

Cell[BoxData["\<\"COVID19-country-trajectories-smooth-2022-01-08.mp4\"\>"], \
"Output",
 CellChangeTimes->{3.849521724158907*^9, 3.8495517015172453`*^9, 
  3.84956266311068*^9, 3.849598741616881*^9, 3.849968214632723*^9, 
  3.85060697441782*^9, 3.850607066600455*^9, 3.8506362694288425`*^9},
 CellLabel->"Out[55]=",ExpressionUUID->"fbcbfcab-d15e-474f-b26c-f932fcb83c15"]
}, Open  ]]
},
WindowSize->{1428., 735.75},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
FrontEndVersion->"13.0 for Microsoft Windows (64-bit) (December 2, 2021)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"e54b573a-9a3f-4cf0-8cb8-35ad3ec51c5e"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 270, 5, 28, "Input",ExpressionUUID->"b933c212-2440-40b7-ab88-ac259144b78e"],
Cell[831, 27, 682, 16, 48, "Input",ExpressionUUID->"d1d3ccf7-222f-4f30-b2f1-c048d2c46202"],
Cell[1516, 45, 327, 8, 28, "Input",ExpressionUUID->"23f2eb52-a337-4150-ab43-baa214cc0bb7"],
Cell[1846, 55, 469, 12, 28, "Input",ExpressionUUID->"0f3919e5-dd64-4eb6-b043-e7dcb94e4cd5"],
Cell[2318, 69, 1498, 40, 181, "Input",ExpressionUUID->"d588e38c-20b2-48e4-aa0a-8086cb63ba4d"],
Cell[3819, 111, 2602, 72, 162, "Input",ExpressionUUID->"5c01ba66-d99e-472c-b5b0-d6eea834daa8"],
Cell[6424, 185, 6686, 135, 238, "Input",ExpressionUUID->"3978cef5-973c-4fb9-85f3-cc312044302f"],
Cell[13113, 322, 5624, 109, 257, "Input",ExpressionUUID->"03c05f17-28d8-485f-be3d-8d78235d10a1"],
Cell[18740, 433, 854, 16, 28, "Input",ExpressionUUID->"c3743702-9bf7-477e-8fa5-07f554ca8074"],
Cell[19597, 451, 790, 16, 28, "Input",ExpressionUUID->"56f10294-a19e-4771-a099-61dda4c60ad3"],
Cell[20390, 469, 885, 18, 28, "Input",ExpressionUUID->"da400d3a-207d-4a90-b0ce-dfb802ee18f9"],
Cell[CellGroupData[{
Cell[21300, 491, 949, 15, 28, "Input",ExpressionUUID->"d73da3ff-d775-44c9-b2f2-980bc50b3e72"],
Cell[22252, 508, 370, 5, 81, "Output",ExpressionUUID->"fbcbfcab-d15e-474f-b26c-f932fcb83c15"]
}, Open  ]]
}
]
*)

